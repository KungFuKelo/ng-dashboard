import { Component } from '@angular/core';
import { TableComponent } from '../../../components/tableComponents/table/table.component';
import { MatIconModule } from '@angular/material/icon';
import { CommonModule } from '@angular/common';
import { FilterTextComponent } from '../../../components/filtersComponents/filter-text/filter-text.component';
import { FilterDropdownComponent } from '../../../components/filtersComponents/filter-dropdown/filter-dropdown.component';
import { FilterRangeComponent } from '../../../components/filtersComponents/filter-range/filter-range.component';

@Component({
  selector: 'app-users',
  standalone: true,
  imports: [
    TableComponent,
    MatIconModule,
    CommonModule,
    FilterTextComponent,
    FilterDropdownComponent,
    FilterRangeComponent,
  ],
  templateUrl: './users.component.html',
  styleUrl: './users.component.css',
})
export class UsersComponent {
  tableCols = { col1: 'Name', col2: 'Email', col3: 'Phone', col4: 'Status' };
  users: any = [
    {
      _id: '65d28902e66358a2bbe92202',
      firstName: 'Mu',
      lastName: 'Young',
      email: 'MuYoung@g.com',
      active: true,
      phones: [1090562346],
      wishlist: [],
      orders: [
        '65d2989c8b1b375206b1b1e6',
        '65d299858b1b375206b1b1fe',
        '65d32d58c1cc42297fe4f6c3',
        '65d32dcc8c54c9254fa34844',
      ],
      addresses: [],
      cart: [],
      createdAt: '2024-02-18T22:47:30.534Z',
      updatedAt: '2024-02-19T10:30:36.120Z',
      __v: 0,
    },

    {
      _id: '65d28902e66358a2bbe92203',
      firstName: 'Jin',
      lastName: 'Park',
      email: 'jinpark@example.com',
      active: true,
      phones: [1234567890],
      wishlist: [],
      orders: [
        '65d2989c8b1b375206b1b1e7',
        '65d299858b1b375206b1b1ff',
        '65d32d58c1cc42297fe4f6c4',
      ],
      addresses: [],
      cart: [],
      createdAt: '2024-02-18T22:47:30.534Z',
      updatedAt: '2024-02-19T10:30:36.120Z',
      __v: 0,
    },
    {
      _id: '65d28902e66358a2bbe92204',
      firstName: 'Liu',
      lastName: 'Chen',
      email: 'liuchen@example.com',
      active: false,
      phones: [9876543210],
      wishlist: [],
      orders: [
        '65d2989c8b1b375206b1b1e8',
        '65d299858b1b375206b1b200',
        '65d32d58c1cc42297fe4f6c5',
      ],
      addresses: [],
      cart: [],
      createdAt: '2024-02-18T22:47:30.534Z',
      updatedAt: '2024-02-19T10:30:36.120Z',
      __v: 0,
    },
    {
      _id: '65d28902e66358a2bbe92205',
      firstName: 'Emma',
      lastName: 'Smith',
      email: 'emmasmith@example.com',
      active: true,
      phones: [5555555555],
      wishlist: [],
      orders: [],
      addresses: [],
      cart: [],
      createdAt: '2024-02-18T22:47:30.534Z',
      updatedAt: '2024-02-19T10:30:36.120Z',
      __v: 0,
    },
    {
      _id: '65d28902e66358a2bbe92206',
      firstName: 'David',
      lastName: 'Johnson',
      email: 'davidjohnson@example.com',
      active: true,
      phones: [9999999999],
      wishlist: [],
      orders: [],
      addresses: [],
      cart: [],
      createdAt: '2024-02-18T22:47:30.534Z',
      updatedAt: '2024-02-19T10:30:36.120Z',
      __v: 0,
    },
    {
      _id: '65d28902e66358a2bbe92207',
      firstName: 'Sophia',
      lastName: 'Williams',
      email: 'sophiawilliams@example.com',
      active: false,
      phones: [1111111111],
      wishlist: [],
      orders: [],
      addresses: [],
      cart: [],
      createdAt: '2024-02-18T22:47:30.534Z',
      updatedAt: '2024-02-19T10:30:36.120Z',
      __v: 0,
    },
    {
      _id: '65d28902e66358a2bbe92208',
      firstName: 'Mohammed',
      lastName: 'Ali',
      email: 'mohammedali@example.com',
      active: true,
      phones: [2222222222],
      wishlist: [],
      orders: [],
      addresses: [],
      cart: [],
      createdAt: '2024-02-18T22:47:30.534Z',
      updatedAt: '2024-02-19T10:30:36.120Z',
      __v: 0,
    },
    {
      _id: '65d28902e66358a2bbe92209',
      firstName: 'Anna',
      lastName: 'Kovacs',
      email: 'annakovacs@example.com',
      active: false,
      phones: [3333333333],
      wishlist: [],
      orders: [],
      addresses: [],
      cart: [],
      createdAt: '2024-02-18T22:47:30.534Z',
      updatedAt: '2024-02-19T10:30:36.120Z',
      __v: 0,
    },
    {
      _id: '65d28902e66358a2bbe92210',
      firstName: 'Juan',
      lastName: 'Garcia',
      email: 'juangarcia@example.com',
      active: true,
      phones: [4444444444],
      wishlist: [],
      orders: [],
      addresses: [],
      cart: [],
      createdAt: '2024-02-18T22:47:30.534Z',
      updatedAt: '2024-02-19T10:30:36.120Z',
      __v: 0,
    },
    {
      _id: '65d28902e66358a2bbe92211',
      firstName: 'Maria',
      lastName: 'Rodriguez',
      email: 'mariarodriguez@example.com',
      active: false,
      phones: [5555555555],
      wishlist: [],
      orders: [],
      addresses: [],
      cart: [],
      createdAt: '2024-02-18T22:47:30.534Z',
      updatedAt: '2024-02-19T10:30:36.120Z',
      __v: 0,
    },
    {
      _id: '65d28902e66358a2bbe92212',
      firstName: 'Chen',
      lastName: 'Wang',
      email: 'chenwang@example.com',
      active: true,
      phones: [6666666666],
      wishlist: [],
      orders: [],
      addresses: [],
      cart: [],
      createdAt: '2024-02-18T22:47:30.534Z',
      updatedAt: '2024-02-19T10:30:36.120Z',
      __v: 0,
    },
    {
      _id: '65d28902e66358a2bbe92213',
      firstName: 'Sara',
      lastName: 'Mohammed',
      email: 'saramohammed@example.com',
      active: false,
      phones: [7777777777],
      wishlist: [],
      orders: [],
      addresses: [],
      cart: [],
      createdAt: '2024-02-18T22:47:30.534Z',
      updatedAt: '2024-02-19T10:30:36.120Z',
      __v: 0,
    },
    {
      _id: '65d28902e66358a2bbe92214',
      firstName: 'Hiro',
      lastName: 'Yamamoto',
      email: 'hiroyamamoto@example.com',
      active: true,
      phones: [8888888888],
      wishlist: [],
      orders: [],
      addresses: [],
      cart: [],
      createdAt: '2024-02-18T22:47:30.534Z',
      updatedAt: '2024-02-19T10:30:36.120Z',
      __v: 0,
    },
    {
      _id: '65d28902e66358a2bbe92215',
      firstName: 'Ava',
      lastName: 'Brown',
      email: 'avabrown@example.com',
      active: false,
      phones: [9999999999],
      wishlist: [],
      orders: [],
      addresses: [],
      cart: [],
      createdAt: '2024-02-18T22:47:30.534Z',
      updatedAt: '2024-02-19T10:30:36.120Z',
      __v: 0,
    },
    {
      _id: '65d28902e66358a2bbe92216',
      firstName: 'Daniel',
      lastName: 'Gonzalez',
      email: 'danielgonzalez@example.com',
      active: true,
      phones: [1234567890],
      wishlist: [],
      orders: [],
      addresses: [],
      cart: [],
      createdAt: '2024-02-18T22:47:30.534Z',
      updatedAt: '2024-02-19T10:30:36.120Z',
      __v: 0,
    },
    {
      _id: '65d28902e66358a2bbe92217',
      firstName: 'Sophie',
      lastName: 'Lefevre',
      email: 'sophielefevre@example.com',
      active: false,
      phones: [2345678901],
      wishlist: [],
      orders: [],
      addresses: [],
      cart: [],
      createdAt: '2024-02-18T22:47:30.534Z',
      updatedAt: '2024-02-19T10:30:36.120Z',
      __v: 0,
    },
    {
      _id: '65d28902e66358a2bbe92218',
      firstName: 'Max',
      lastName: 'Fischer',
      email: 'maxfischer@example.com',
      active: true,
      phones: [3456789012],
      wishlist: [],
      orders: [],
      addresses: [],
      cart: [],
      createdAt: '2024-02-18T22:47:30.534Z',
      updatedAt: '2024-02-19T10:30:36.120Z',
      __v: 0,
    },
    {
      _id: '65d28902e66358a2bbe92219',
      firstName: 'Emma',
      lastName: 'Dupont',
      email: 'emmadupont@example.com',
      active: false,
      phones: [4567890123],
      wishlist: [],
      orders: [],
      addresses: [],
      cart: [],
      createdAt: '2024-02-18T22:47:30.534Z',
      updatedAt: '2024-02-19T10:30:36.120Z',
      __v: 0,
    },
    {
      _id: '65d28902e66358a2bbe92220',
      firstName: 'Luca',
      lastName: 'Ricci',
      email: 'lucaricci@example.com',
      active: true,
      phones: [5678901234],
      wishlist: [],
      orders: [],
      addresses: [],
      cart: [],
      createdAt: '2024-02-18T22:47:30.534Z',
      updatedAt: '2024-02-19T10:30:36.120Z',
      __v: 0,
    },
    {
      _id: '65d28902e66358a2bbe92221',
      firstName: 'Sophia',
      lastName: 'Martinez',
      email: 'sophiamartinez@example.com',
      active: false,
      phones: [6789012345],
      wishlist: [],
      orders: [],
      addresses: [],
      cart: [],
      createdAt: '2024-02-18T22:47:30.534Z',
      updatedAt: '2024-02-19T10:30:36.120Z',
      __v: 0,
    },
    {
      _id: '65d28902e66358a2bbe92222',
      firstName: 'Liam',
      lastName: 'Murphy',
      email: 'liammurphy@example.com',
      active: true,
      phones: [7890123456],
      wishlist: [],
      orders: [],
      addresses: [],
      cart: [],
      createdAt: '2024-02-18T22:47:30.534Z',
      updatedAt: '2024-02-19T10:30:36.120Z',
      __v: 0,
    },
  ];
  locations: any[] = [
    {
      governorate: 'Alexandria',
      cities: [
        'Alexandria',
        'Borg El Arab',
        'Kafr El Dawwar',
        'Damanhur',
        'Rosetta',
      ],
    },
    {
      governorate: 'Aswan',
      cities: ['Aswan', 'Kom Ombo', 'Edfu', 'Abu Simbel', 'Nasr al-Nuba'],
    },
    {
      governorate: 'Asyut',
      cities: ['Asyut', 'Sohag', 'Dairut', 'Abnub', 'Al Badari'],
    },
    {
      governorate: 'Beheira',
      cities: [
        'Damanhur',
        'Rashid',
        'Kafr El Dawwar',
        'Abu Hummus',
        'Kom Hamada',
      ],
    },
    {
      governorate: 'Beni Suef',
      cities: ['Beni Suef', 'El Wasta', 'Bibah', 'Naser', 'Al Fashn'],
    },
    {
      governorate: 'Cairo',
      cities: [
        'Cairo',
        'Giza',
        'Shubra El-Kheima',
        'Helwan',
        '6th of October City',
      ],
    },
    {
      governorate: 'Dakahlia',
      cities: ['Mansoura', 'Mit Ghamr', 'Talkha', 'Agami', 'Sherbin'],
    },
    {
      governorate: 'Damietta',
      cities: [
        'Damietta',
        'Kafr El Shaykh Saad',
        'Ras El Bar',
        'Faraskur',
        'Zarqa',
      ],
    },
    {
      governorate: 'Faiyum',
      cities: ['Faiyum', 'Sinnuris', 'Tamiya', 'Ihnasia', 'Abu al-Matamir'],
    },
    {
      governorate: 'Gharbia',
      cities: ['Tanta', 'Kafr El Zayat', 'Zefta', 'Basyoun', 'Mehallet Qasr'],
    },
    {
      governorate: 'Giza',
      cities: [
        'Giza',
        '6th of October City',
        'Sheikh Zayed City',
        'Al Haram',
        'Imbaba',
      ],
    },
    {
      governorate: 'Ismailia',
      cities: ['Ismailia', 'Fayed', 'Arbaeen', 'Ataqah', 'El Qantara'],
    },
    {
      governorate: 'Kafr El Sheikh',
      cities: ['Kafr El Sheikh', 'Desouk', 'Metoubes', 'Biyala', 'Fouh'],
    },
    {
      governorate: 'Luxor',
      cities: ['Luxor', 'Karnak', 'New Karnak', 'Armant', 'Esna'],
    },
    {
      governorate: 'Matrouh',
      cities: ['Marsa Matrouh', 'Siwa', 'El Hamam', 'El Alamein', 'Siwah'],
    },
    {
      governorate: 'Minya',
      cities: ['Minya', 'Beni Mazar', 'Mallawi', 'Deir Mawas', 'Maghagha'],
    },
    {
      governorate: 'Monufia',
      cities: ['Shebin El Kom', 'Ashmoun', 'Menouf', 'Sadat City', 'Quesna'],
    },
    {
      governorate: 'New Valley',
      cities: ['Kharga', 'Dakhla', 'Farafra', 'Baris', 'Mut'],
    },
    {
      governorate: 'North Sinai',
      cities: ['El Arish', 'Rafah', 'Bir al-Abed', 'Nakhl', 'Sheikh Zuweid'],
    },
    {
      governorate: 'Port Said',
      cities: ['Port Said', 'Port Fuad', 'El-Manakh', 'El-Zohour', 'El-Salam'],
    },
    {
      governorate: 'Qena',
      cities: ['Qena', 'Luxor', 'Nag Hammadi', 'Dendera', 'Farshout'],
    },
    {
      governorate: 'Qalyubia',
      cities: ['Benha', 'Qalyub', 'Shubra El-Kheima', 'Banha', 'Khanka'],
    },
    {
      governorate: 'Red Sea',
      cities: [
        'Hurghada',
        'Sharm El Sheikh',
        'El Gouna',
        'Safaga',
        'Marsa Alam',
      ],
    },
    {
      governorate: 'Sharqia',
      cities: [
        'Zagazig',
        'Al-Ibrahimiyah',
        'Abu Hammad',
        'Al-Qanayat',
        'Al-Husayniyah',
      ],
    },
    {
      governorate: 'Sohag',
      cities: ['Sohag', 'Gerga', 'Gohina', 'Dar El Salam', 'Al Maragha'],
    },
    {
      governorate: 'South Sinai',
      cities: [
        'Sharm El Sheikh',
        'Dahab',
        'Nuweiba',
        'Saint Catherine',
        'Ras Sidr',
      ],
    },
    {
      governorate: 'Suez',
      cities: ['Suez', 'Ismailia', 'Fayed', 'Arbaeen', 'Ataqah'],
    },
  ];
  governments: string[] = [
    'Alexandria',
    'Aswan',
    'Asyut',
    'Beheira',
    'Beni Suef',
    'Cairo',
    'Dakahlia',
    'Damietta',
    'Faiyum',
    'Gharbia',
    'Giza',
    'Ismailia',
    'Kafr El Sheikh',
    'Luxor',
    'Matrouh',
    'Minya',
    'Monufia',
    'New Valley',
    'North Sinai',
    'Port Said',
    'Qena',
    'Qalyubia',
    'Red Sea',
    'Sharqia',
    'Sohag',
    'South Sinai',
    'Suez',
  ];
  selectedCities: string[] = [];
  selectedItems: string[] = [];
  selectedGov!: any;

  ngOnInit() {
    this.users.map((u: any) => {
      u.selected = false;
      u.col1 = u.firstName + ' ' + u.lastName;
      u.col2 = u.email;
      u.col3 = u.phones[0];
      u.col4 = u.active ? 'Active' : 'Suspended';
    });
  }

  getSelected(data: any) {
    this.selectedItems = data;
  }

  getSelectedGov(gov: any) {
    this.selectedGov = this.locations.find((l) => l.governorate == gov);
    console.log(gov);
    console.log(this.selectedGov);
    this.selectedCities = this.selectedGov.cities;
    console.log(this.selectedCities);
  }
}
